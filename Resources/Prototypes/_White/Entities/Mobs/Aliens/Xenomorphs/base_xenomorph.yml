# BASE XENOMORPH MOB

- type: entity
  parent:
  - BaseMob
  - MobDamageable
  - MobCombat
  - MobBloodstream
  - MobFlammable
  id: MobXenomorphBase
  abstract: true
  components:
    - type: ThermalVision
      toggleAction: ToggleThermalVisionAlien
      color: "#7d0cc9"
      lightRadius: 10
    - type: ShowInfectedIcons
    - type: PlasmaTransfer
    - type: CombatMode
      combatToggleAction: ActionCombatModeToggleAlien
      canDisarm: true
    - type: MovementSpeedModifier
      baseWalkSpeed: 3
      baseSprintSpeed: 4.5
    - type: NameIdentifier
      group: GenericNumber
    - type: Tool
      qualities:
        - Prying
    - type: Prying
      pryPowered: true
    - type: NpcFactionMember
      factions:
        - Xeno
    - type: Deathgasp
      prototype: XenomorphDeathgasp
    - type: Buckle
    - type: Hands
    - type: ComplexInteraction
    - type: Puller
      needsHands: false
    - type: IdExaminable
    - type: InventorySlots
    - type: Stripping
    - type: Strippable
    - type: UserInterface
      interfaces:
        enum.StrippingUiKey.Key:
          type: StrippableBoundUserInterface
        enum.InstrumentUiKey.Key:
          type: InstrumentBoundUserInterface
          requireInputValidation: false
        enum.SurgeryUIKey.Key:
          type: SurgeryBui
    - type: Sprite
      drawdepth: Mobs
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.25
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: MobState
      allowedStates:
        - Alive
        - Dead
        - Critical
    - type: MobThresholds
      thresholds:
        0: Alive
        180: Critical
        190: Dead
      stateAlertDict:
        Alive: AlienHealth
        Critical: AlienCrit
        Dead: AlienDead
    - type: SlowOnDamage
      speedModifierThresholds:
        100: 0.9
        130: 0.7
        160: 0.6
    - type: Damageable
      damageContainer: Biological
      damageModifierSet: Xenomorph
    - type: Stamina
      critThreshold: 500
    - type: Bloodstream
      bloodReagent: FluorosulfuricAcid
      bloodMaxVolume: 250
      bloodlossDamage:
        types:
          Bloodloss: 0.05
      bloodlossHealDamage:
        types:
          Bloodloss: -1
    - type: MeleeWeapon
      altDisarm: true
      angle: 0
      soundHit:
        collection: AlienClaw
      animation: WeaponArcBite
      damage:
        groups:
          Brute: 20
        types:
          Structural: 10
    - type: DamageStateVisuals
      rotate: false
    - type: RotationVisuals
      defaultRotation: 90
      horizontalRotation: 90
    - type: TypingIndicator
      proto: alien
    - type: Temperature
      heatDamageThreshold: 360
      coldDamageThreshold: -150
      currentTemperature: 310.15
    - type: Tag
      tags:
        - CannotSuicide
        - DoorBumpOpener
        - FootstepSound
    - type: ZombieImmune
    - type: NoSlip
    - type: Perishable
      molsPerSecondPerUnitMass: 0.0005
    - type: PassiveDamage
      allowedStates:
      - Alive
      - Critical
      - Dead
    - type: Alien
      greetingText: alien-null-greeting
      weedHeal:
        groups:
          Burn: -5
          Toxin: -5
          Airloss: -10
          Brute: -5
    - type: Body
      prototype: XenomorphLarge
    - type: Inventory
      templateId: alien
    - type: Cuffable
    - type: StatusEffects
      allowed:
      - Stun
      - KnockedDown
      - SlowedDown
      - Stutter
      - Electrocution
      - RatvarianLanguage
      - PressureImmunity
      - Pacified
      - StaminaModifier
      - PsionicsDisabled
      - PsionicallyInsulated
    - type: VomitAction
      thirstAdded: 5.0
      hungerAdded: 5.0
    - type: PlasmaVessel
    - type: Speech
      speechSounds: Xenomorph
      speechVerb: SmallMob
    - type: LanguageKnowledge
      speaks:
      - Xeno
      - XenoHivemind
      understands:
      - Xeno
      - XenoHivemind
      - Hissing
      - Draconic
      - TauCetiBasic
    - type: SSDIndicator
    - type: StandingState
    - type: Dna
    - type: Devourer
      devourTime: 2
      consumes:
      - Alive
      - Critical
    - type: Vocal
      sounds:
        Male: Xenomorph
        Female: Xenomorph
        Unsexed: Xenomorph
    - type: Emoting
    - type: BodyEmotes
      soundsId: GeneralBodyEmotes
    - type: LizardAccent
    - type: Targeting
    - type: SurgeryTarget
    - type: GuideHelp
      guides:
      - Xenomorphs

# BASE XENOMORPH CAST

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphDroneBase
  abstract: true
  name: alien drone
  components:
    - type: Sprite
      sprite: _White/Mobs/Aliens/Xenomorphs/drone.rsi
      layers:
        - map: ["enum.DamageStateVisualLayers.Base"]
          state: aliend
        - map: [ "pocket1" ]
        - map: [ "pocket2" ]
        - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
          color: "#ffffff"
          sprite: _White/Effects/cuffs.rsi
          state: aliencuff
          visible: false
        - map: [ "clownedon" ] # Dynamically generated
          sprite: "Effects/creampie.rsi"
          state: "creampie_human"
          visible: false
    - type: Alien
      greetingText: alien-drone-greeting
    - type: DamageStateVisuals
      states:
        Alive:
          Base: aliend
        Critical:
          Base: aliend_unconscious
        Dead:
          Base: aliend_dead
    - type: Body
      prototype: XenomorphLarge
    - type: AcidMaker
      action: ActionMakeAcid
      entityProduced: CorrosiveAcid
    - type: ResinSpinner
    - type: PlasmaVessel
      plasmaPerSecond: 5
    - type: PraetorianEvolution
    - type: Devourer
      devourTime: 3
      consumes:
      - Alive
      - Critical
    - type: GuideHelp
      guides:
      - XenomorphDrone

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphSentinelBase
  abstract: true
  name: alien sentinel
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorphs/sentinel.rsi
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: aliens
      - map: [ "pocket1" ]
      - map: [ "pocket2" ]
      - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
        color: "#ffffff"
        sprite: _White/Effects/cuffs.rsi
        state: aliencuff
        visible: false
      - map: [ "clownedon" ] # Dynamically generated
        sprite: "Effects/creampie.rsi"
        state: "creampie_human"
        visible: false
  - type: Alien
    greetingText: alien-sentinel-greeting
  - type: Body
    prototype: XenomorphLargeSentinel
  - type: MobThresholds
    thresholds:
      0: Alive
      250: Critical
      260: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      170: 0.9
      200: 0.7
      220: 0.6
  - type: MeleeWeapon
    altDisarm: true
    angle: 0
    soundHit:
      collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 25
      types:
        Structural: 8
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: aliens
      Critical:
        Base: aliens_unconscious
      Dead:
        Base: aliens_dead
  - type: PlasmaVessel
    plasmaRegenCap: 150
    plasmaPerSecond: 5
  - type: RechargeBasicEntityAmmo
    rechargeCooldown: 0.75
  - type: BasicEntityAmmoProvider
    proto: BulletAcidSentinel
    capacity: 1
    count: 1
  - type: Gun
    fireRate: 0.25
    useKey: false
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: Devourer
    devourTime: 3
    consumes:
    - Alive
    - Critical
  - type: GuideHelp
    guides:
    - XenomorphSentinel

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphHunterBase
  abstract: true
  name: alien hunter
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorphs/hunter.rsi
    layers:
      - map: [ "enum.JumpLayers.Jumping" ]
        sprite: _White/Mobs/Aliens/Xenomorphs/hunter_jump.rsi
        state: icon
        visible: false
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alienh
      - map: [ "pocket1" ]
      - map: [ "pocket2" ]
      - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
        color: "#ffffff"
        sprite: _White/Effects/cuffs.rsi
        state: aliencuff
        visible: false
      - map: [ "clownedon" ] # Dynamically generated
        sprite: "Effects/creampie.rsi"
        state: "creampie_human"
        visible: false
  - type: Alien
    greetingText: alien-hunter-greeting
  - type: Body
    prototype: XenomorphMedium
  - type: GenericVisualizer
    visuals:
      enum.JumpVisuals.Jumping:
        enum.JumpLayers.Jumping:
          True: { visible: true }
          False: { visible: false }
        enum.DamageStateVisualLayers.Base:
          True: { visible: false}
          False: { visible: true}
  - type: MobThresholds
    thresholds:
      0: Alive
      205: Critical
      215: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      140: 0.9
      170: 0.7
      190: 0.6
  - type: MeleeWeapon
    altDisarm: true
    angle: 0
    soundHit:
      collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 20
      types:
        Structural: 8
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: alienh
      Critical:
        Base: alienh_unconscious
      Dead:
        Base: alienh_dead
  - type: PlasmaVessel
    plasmaRegenCap: 150
    plasmaPerSecond: 5
  - type: Devourer
    devourTime: 2
    consumes:
    - Alive
    - Critical
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 5.8
  - type: AlienStalk
  - type: Jump
    jumpAction: ActionJumpAlien
  - type: GuideHelp
    guides:
    - XenomorphHunter

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphPraetorianBase
  abstract: true
  name: alien praetorian
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorphs/praetorian.rsi
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alienp
        offset: 0, 0.6
      - map: [ "pocket1" ]
      - map: [ "pocket2" ]
      - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
        color: "#ffffff"
        sprite: _White/Effects/cuffs_big.rsi
        state: aliencuff_p
        visible: false
  - type: Inventory
    templateId: alien_praetorian
    speciesId: alien_praetorian
  - type: Alien
    greetingText: alien-praetorian-greeting
  - type: Body
    prototype: XenomorphLargeSentinel
  - type: AcidMaker
    action: ActionMakeAcid
    entityProduced: CorrosiveAcid
    plasmaCost: 100
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.4
        density: 1000
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobThresholds
    thresholds:
      0: Alive
      250: Critical
      260: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      170: 0.9
      200: 0.7
      220: 0.6
  - type: MeleeWeapon
    altDisarm: true
    angle: 0
    soundHit:
      collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 30
      types:
        Structural: 10
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: alienp
      Critical:
        Base: alienp_unconscious
      Dead:
        Base: alienp_dead
  - type: PlasmaVessel
    plasmaPerSecond: 5
  - type: RechargeBasicEntityAmmo
    rechargeCooldown: 0.75
  - type: BasicEntityAmmoProvider
    proto: BulletAcidSentinel
    capacity: 1
    count: 1
  - type: Gun
    fireRate: 0.3
    useKey: false
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: QueenEvolution
  - type: ResinSpinner
  - type: TailLash
  - type: Devourer
    devourTime: 3
    consumes:
    - Alive
    - Critical
  - type: GuideHelp
    guides:
    - XenomorphPraetorian

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphQueenBase
  abstract: true
  name: alien queen
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorphs/queen.rsi
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alienq
        offset: 0, 0.6
      - map: [ "pocket1" ]
      - map: [ "pocket2" ]
      - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
        color: "#ffffff"
        sprite: _White/Effects/cuffs_big.rsi
        state: aliencuff_q
        visible: false
  - type: Alien
    greetingText: alien-queen-greeting
  - type: Body
    prototype: XenomorphQueen
  - type: TypingIndicator
    proto: alien_royal
  - type: Inventory
    templateId: alien_queen
    speciesId: alien_queen
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 300
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobThresholds
    thresholds:
      0: Alive
      640: Critical
      650: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      540: 0.9
      580: 0.7
      610: 0.6
  - type: MeleeWeapon
    altDisarm: true
    angle: 0
    soundHit:
      collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 30
      types:
        Structural: 30
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: alienq
      Critical:
        Base: alienq_unconscious
      Dead:
        Base: alienq_dead
  - type: PlasmaVessel
    plasmaRegenCap: 500
    plasmaPerSecond: 5
  - type: ResinSpinner
  - type: AcidMaker
    plasmaCost: 50
    entityProduced: CorrosiveAcid
    action: ActionMakeAcid
  - type: RechargeBasicEntityAmmo
    rechargeCooldown: 0.75
  - type: BasicEntityAmmoProvider
    proto: BulletAcidSentinel
    capacity: 1
    count: 1
  - type: Gun
    fireRate: 0.25
    useKey: false
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: AlienQueen
    action: ActionAlienRoyalLarva
  - type: EmitSoundOnSpawn
    sound:
      collection:
        XenomorphQueenCommand
  - type: Deathgasp
    prototype: XenomorphQueenDeathgasp
  - type: Speech
    speechSounds: Xenomorph
    speechVerb: LargeMob
  - type: LanguageKnowledge
    speaks:
    - Xeno
    - XenoHivemind
    - TauCetiBasic
    understands:
    - Xeno
    - XenoHivemind
    - Hissing
    - Draconic
    - TauCetiBasic
  - type: TailLash
  - type: Devourer
    devourTime: 3
    consumes:
    - Alive
    - Critical
  - type: GuideHelp
    guides:
    - XenomorphQueen

- type: entity
  parent: MobXenomorphBase
  id: MobXenomorphMaidBase
  abstract: true
  name: lusty alien maid
  description: Don't ask it to lay eggs in you.
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorphs/maid.rsi
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: maid
      - map: [ "pocket1" ]
      - map: [ "pocket2" ]
      - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
        color: "#ffffff"
        sprite: _White/Effects/cuffs.rsi
        state: aliencuff
        visible: false
      - map: [ "clownedon" ] # Dynamically generated
        sprite: "Effects/creampie.rsi"
        state: "creampie_human"
        visible: false
  - type: Alien
    greetingText: alien-maid-greeting
  - type: PlasmaVessel
    plasmaPerSecond: 5
  - type: MobThresholds
    thresholds:
      0: Alive
      200: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      150: 0.9
      170: 0.7
      190: 0.6
  - type: MeleeWeapon
    altDisarm: true
    angle: 0
    soundHit:
      collection: AlienClaw
    animation: WeaponArcBite
    damage:
      groups:
        Brute: 10
      types:
        Structural: 5
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: maid
      Dead:
        Base: maid_dead
  - type: OwOAccent
  - type: Pacified
  - type: LanguageKnowledge
    speaks:
    - Xeno
    - XenoHivemind
    - TauCetiBasic # Smart thing
    understands:
    - Xeno
    - XenoHivemind
    - Hissing
    - Draconic
    - TauCetiBasic
  - type: GuideHelp
    guides:
    - XenomorphMaid

# BASE LARVA

- type: entity
  parent:
  - BaseMob
  - MobDamageable
  - MobCombat
  - MobBloodstream
  - MobFlammable
  id: MobAlienLarva
  name: alien larva
  description: Little and harmless alien
  components:
    - type: Buckle
    - type: ThermalVision
      toggleAction: ToggleThermalVisionAlien
      color: "#7d0cc9"
    - type: ShowInfectedIcons
    - type: Body
      prototype: XenomorphTiny
    - type: Speech
      speechSounds: Xenomorph
      speechVerb: SmallMob
    - type: LanguageKnowledge
      speaks:
      - Xeno
      - XenoHivemind
      understands:
      - Xeno
      - XenoHivemind
      - Hissing
      - Draconic
      - TauCetiBasic
    - type: Vocal
      sounds:
        Male: Xenomorph
        Female: Xenomorph
        Unsexed: Xenomorph
    - type: Emoting
    - type: BodyEmotes
      soundsId: GeneralBodyEmotes
    - type: Inventory
      templateId: larva
    - type: LizardAccent
    - type: ZombieImmune
    - type: Sprite
      drawdepth: SmallMobs
      sprite: _White/Mobs/Aliens/Xenomorphs/larva.rsi
      layers:
        - map: ["enum.DamageStateVisualLayers.Base", "movement"]
          state: larva0
    - type: SpriteMovement
      movementLayers:
        movement:
          state: larva0
      noMovementLayers:
        movement:
          state: larva0_idle
    - type: NpcFactionMember
      factions:
        - Xeno
    - type: HTN
      rootTask:
        task: MouseCompound
    - type: Physics
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.2
          density: 100
          mask:
            - SmallMobMask
          layer:
            - SmallMobLayer
    - type: Deathgasp
      prototype: LarvaDeathgasp
    - type: MobThresholds
      thresholds:
        0: Alive
        25: Dead
      stateAlertDict:
        Alive: AlienHealth
        Dead: AlienDead
    - type: MovementSpeedModifier
      baseWalkSpeed : 2
      baseSprintSpeed : 5
    - type: DamageStateVisuals
      states:
        Alive:
          Base: larva0
        Dead:
          Base: larva0_dead
    - type: CombatMode
      combatToggleAction: ActionCombatModeToggleAlien
    - type: MeleeWeapon
      soundHit:
        path: /Audio/Weapons/Xeno/alien_claw_flesh1.ogg
      angle: 0
      animation: WeaponArcBite
      damage:
        types:
          Blunt: 2
    - type: Bloodstream
      bloodMaxVolume: 50
      bloodReagent: FluorosulfuricAcid
    - type: MobPrice
      price: 250
    - type: TypingIndicator
      proto: alien
    - type: PassiveDamage
      allowedStates:
      - Alive
      - Critical
      - Dead
    - type: Alien
      greetingText: alien-larva-greeting
      weedHeal:
        groups:
          Burn: -5
          Toxin: -5
          Airloss: -10
          Brute: -5
    - type: PlasmaVessel
      plasmaRegenCap: 30
    - type: TimedPolymorph
      polymorphPrototype: AlienEvolutionGrowStageTwo
      polymorphTime: 50
    - type: GuideHelp
      guides:
      - XenomorphLarva
    - type: UserInterface
      interfaces:
        enum.RadialSelectorUiKey.Key:
          type: TrackedRadialSelectorMenuBUI

# BASE FACEHUGGER

- type: entity
  parent:
  - BaseItem
  - BaseMob
  - MobDamageable
  - MobFlammable
  id: BaseFacehugger
  abstract: true
  components:
  - type: Sprite
    drawdepth: SmallMobs
    sprite: _White/Mobs/Aliens/Xenomorphs/facehugger.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: facehugger
  - type: Alien
    greetingText: alien-facehugger-greeting
    weedHeal:
      groups:
        Burn: -0.5
        Toxin: -0.5
        Airloss: -0.10
        Brute: -0.5
  - type: Item
    sprite: _White/Mobs/Aliens/Xenomorphs/facehugger_inhands.rsi
    size: Small
  - type: Buckle
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Xenomorph
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      25: Dead
    stateAlertDict:
      Alive: AlienHealth
      Dead: AlienDead
  - type: DamageStateVisuals
    states:
      Alive:
        Base: facehugger
      Dead:
        Base: facehugger_impregnated
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.2
        density: 100
        mask:
        - SmallMobMask
        layer:
        - BulletImpassable
  - type: Tag
    tags:
    - AlienItem
    - WhitelistChameleon
    - MonkeyWearable
    - PetWearable
    - Facehugger
  - type: StaticPrice
    price: 1000
  - type: Clothing
    sprite: _White/Clothing/Mask/facehugger.rsi
    slots:
    - Mask
  - type: BreathMask
  - type: Blindfold
  - type: GuideHelp
    guides:
    - XenomorphFacehugger
